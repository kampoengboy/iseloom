<div class="container" style="background-color:white">
	<div class="row">
	    <div class="col-md-9"><h1><%= user.username %> <small><%= user.name %></small></h1></div>
	    <div class="col-md-3 text-right"><h2><%= user.rating %><sup><small>Highest : <%=user.highest_rating%></small></sup></h2></div>
	</div>
    <hr >
    <h3><%= user.university.name %></h3>
    <div class="row">
    	<span class="col-md-2">Registered : </span><span class="col-md-2" id="regitered"></span>
    </div>
	<% if(userRating) { %>
	    <div style="width:70%">
			<br><br>
			<span>Rating</span>
			<br><br>
			<div>
				<canvas id="canvas" height="300" width="600"></canvas>
				<span style=" float:right">Date</span>
			</div>
			
		</div>
	<% } %>
</div>

<% if(userRating) { %>
	<script>
		var randomScalingFactor = function(){ return Math.round(Math.random()*100)};
		var lineChartData = {
			labels : [
				<% _.each(userRating, function(rating){ %>
					"<%=rating.date.getDate() + "-" + (rating.date.getMonth()+1) + "-" + rating.date.getFullYear()%>",
				<% }) %>
			],
			datasets : [
				{
					label: "This",
					fillColor : "rgba(140,138,233,0.2)",
					strokeColor : "rgba(151,187,205,1)",
					pointColor : "rgba(77,80,233,1)",
					pointStrokeColor : "#fff",
					pointHighlightFill : "#fff",
					pointHighlightStroke : "rgba(151,187,205,1)",
					data : [
						<% _.each(userRating, function(rating){ %>
							"<%=rating.rating%>",
						<% }) %>
					]
				}
			]
		}

		$( document ).ready(function() {
		    var ctx = document.getElementById("canvas").getContext("2d");
			window.myLine = new Chart(ctx).Line(lineChartData, {
				responsive: true
			});
		});

		var monthNames = ["January", "February", "March", "April", "May", "June",
		  "July", "August", "September", "October", "November", "December"
		];
		$("#regitered").html("<%=user.createdAt.getDate()%>"+" "+monthNames["<%=user.createdAt.getMonth()%>"]+" "+"<%=user.createdAt.getFullYear()%>");
	</script>
<% } %>